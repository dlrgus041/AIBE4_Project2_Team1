<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>í•™ìƒ ë§ˆì´í˜ì´ì§€</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* [Global Reset & Basics] - êµì‚¬ í˜ì´ì§€ì™€ ë™ì¼ */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #f9f9f9; color: #333; }
        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }

        /* [Header] */
        header { display: flex; justify-content: space-between; align-items: center; padding: 15px 30px; background: white; border-bottom: 2px solid #333; }
        .logo { font-size: 20px; font-weight: bold; }
        .header-icons i { font-size: 24px; margin-left: 15px; cursor: pointer; }

        /* [Layout] */
        .container { display: flex; max-width: 1200px; margin: 0 auto; min-height: calc(100vh - 60px); }

        /* [Sidebar] */
        .sidebar { width: 280px; background: white; border-right: 1px solid #ddd; padding: 30px 20px; text-align: center; display: flex; flex-direction: column; }
        .profile-img { width: 100px; height: 100px; background-color: #ddd; border-radius: 50%; margin: 0 auto 15px; object-fit: cover; }
        .user-name { font-size: 22px; font-weight: bold; margin-bottom: 5px; }
        .user-email { color: #666; font-size: 14px; margin-bottom: 5px; }
        .user-loc { color: #666; font-size: 14px; margin-bottom: 20px; }

        .sidebar-btns button {
            display: block; width: 100%; padding: 10px 0; margin-bottom: 10px;
            background: white; border: 1px solid #333; border-radius: 20px; font-size: 14px; cursor: pointer; transition: 0.2s;
        }
        .sidebar-btns button:hover { background: #333; color: white; }

        /* [Main Content] */
        .main-content { flex: 1; padding: 40px; background: white; }

        /* Greeting Section */
        .greeting-section { margin-bottom: 30px; }
        .greeting-title { font-size: 20px; font-weight: bold; margin-bottom: 5px; }
        .greeting-quote { color: #666; font-size: 14px; font-style: italic; }

        /* Upcoming Classes (Alert Box Style) */
        .upcoming-box { background-color: #f0f4f8; border-left: 5px solid #007bff; padding: 20px; border-radius: 4px; margin-bottom: 40px; }
        .upcoming-title { font-weight: bold; font-size: 16px; margin-bottom: 15px; display: flex; align-items: center; }
        .upcoming-title i { margin-right: 8px; color: #007bff; }
        .upcoming-item { display: flex; justify-content: space-between; font-size: 14px; margin-bottom: 8px; }
        .d-day { font-weight: bold; color: #d9534f; margin-right: 10px; min-width: 40px; }
        .class-info { flex: 1; }
        .class-time { color: #555; }

        /* Tab Navigation (Visual Only) */
        .tab-menu { display: flex; border-bottom: 2px solid #eee; margin-bottom: 20px; }
        .tab-item { padding: 10px 20px; font-weight: bold; color: #888; cursor: pointer; border-bottom: 2px solid transparent; }
        .tab-item.active { color: #333; border-bottom: 2px solid #333; }

        /* Section Styling */
        .section-header { font-size: 18px; font-weight: bold; margin: 30px 0 15px 0; display: flex; justify-content: space-between; align-items: center; }
        .more-link { font-size: 12px; color: #888; font-weight: normal; }

        /* 1. ìˆ˜ê°• ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ */
        .history-list { border: 1px solid #eee; border-radius: 8px; overflow: hidden; }
        .history-item { display: flex; align-items: center; padding: 15px 20px; border-bottom: 1px solid #eee; }
        .history-item:last-child { border-bottom: none; }
        .h-date { width: 100px; font-size: 13px; color: #666; }
        .h-info { flex: 1; font-weight: 500; font-size: 15px; }
        .h-status { font-size: 13px; font-weight: bold; margin-right: 15px; }
        .status-complete { color: #28a745; }
        .status-cancel { color: #dc3545; }
        .btn-review {
            padding: 5px 12px; border: 1px solid #ddd; border-radius: 4px;
            font-size: 12px; background: white; cursor: pointer;
        }
        .btn-review:hover { background: #f5f5f5; }

        /* 2. ì°œí•œ ëª©ë¡ (Grid Cards) */
        .favorites-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .fav-card { border: 1px solid #ddd; border-radius: 12px; padding: 20px; text-align: center; position: relative; }
        .heart-icon { position: absolute; top: 15px; right: 15px; color: #d9534f; font-size: 18px; cursor: pointer; }
        .fav-subject { font-size: 16px; font-weight: bold; margin-top: 10px; margin-bottom: 5px; }
        .fav-teacher { font-size: 13px; color: #666; margin-bottom: 10px; }
        .fav-rating { font-size: 13px; color: #ffc107; margin-bottom: 10px; }
        .fav-rating span { color: #888; font-size: 12px; }
        .fav-price { font-weight: bold; font-size: 15px; margin-bottom: 15px; }
        .btn-enroll {
            width: 100%; padding: 8px; border: 1px solid #333; background: white;
            border-radius: 20px; font-size: 13px; font-weight: bold; cursor: pointer;
        }
        .btn-enroll:hover { background: #333; color: white; }

        /* 3. ê²°ì œ ë‚´ì—­ (Receipt List) */
        .payment-list { border: 1px solid #eee; border-radius: 12px; padding: 20px; margin-bottom: 50px; }
        .pay-item { padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px dashed #ddd; }
        .pay-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
        .pay-date { font-weight: bold; color: #333; margin-bottom: 5px; font-size: 14px; }
        .pay-title { font-size: 15px; margin-bottom: 5px; }
        .pay-meta { font-size: 13px; color: #666; margin-bottom: 8px; }
        .pay-amount { font-weight: bold; font-size: 16px; color: #333; }
        .pay-status { font-size: 12px; color: #888; margin-top: 3px; }

    </style>
</head>
<body>

<header>
    <div class="logo">
        <i class="fas fa-bars" style="margin-right: 15px; font-size: 18px;"></i> ë¡œê³ 
    </div>
    <div class="header-icons">
        <i class="far fa-bell"></i>
        <i class="far fa-comment-dots"></i>
    </div>
</header>

<div class="container">
    <aside class="sidebar">
        <img th:src="@{/images/student-placeholder.png}" class="profile-img" alt="í•™ìƒ í”„ë¡œí•„">

        <h2 class="user-name" th:text="${student.name}">ê¹€í•™ìƒ</h2>
        <p class="user-email">
            <i class="far fa-envelope"></i> <span th:text="${student.email}">student@email.com</span>
        </p>
        <p class="user-loc">
            <i class="fas fa-map-marker-alt"></i> <span th:text="${student.location}">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬</span>
        </p>

        <div class="sidebar-btns">
            <button>í”„ë¡œí•„ í¸ì§‘</button>
            <button>ì„ ìƒë‹˜ìœ¼ë¡œ ì „í™˜</button>
            <button style="margin-top:20px; border-color: #ccc; color:#666;">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </aside>

    <main class="main-content">
        <div class="greeting-section">
            <div class="greeting-title">ğŸ‘‹ ë°˜ê°€ì›Œìš”, <span th:text="${student.name}">ê¹€í•™ìƒ</span>ë‹˜!</div>
            <div class="greeting-quote">"ì˜¤ëŠ˜ë„ í˜ì°¨ê²Œ ê³µë¶€í•´ë³¼ê¹Œìš”?"</div>
        </div>

        <div class="upcoming-box">
            <div class="upcoming-title"><i class="far fa-calendar-alt"></i> ë‹¤ê°€ì˜¤ëŠ” ìˆ˜ì—…</div>
            <div class="upcoming-item" th:each="up : ${upcomingClasses}">
                <span class="d-day" th:text="${up.dDay}">D-1</span>
                <span class="class-info" th:text="${up.className + ' - ' + up.teacherName}">ìˆ˜ì—… ì œëª© - XXX ì„ ìƒë‹˜</span>
                <span class="class-time" th:text="${up.scheduleTime}">ë‚´ì¼ 16:00 (Zoom)</span>
            </div>
        </div>

        <div class="tab-menu">
            <div class="tab-item active">ìˆ˜ê°• ë‚´ì—­</div>
            <div class="tab-item">ì°œí•œ ëª©ë¡</div>
            <div class="tab-item">ê²°ì œ ê´€ë¦¬</div>
        </div>

        <section>
            <div class="section-header">
                ìˆ˜ê°• ë‚´ì—­ <a href="#" class="more-link">ì „ì²´ ë³´ê¸° ></a>
            </div>
            <div class="history-list">
                <div class="history-item" th:each="hist : ${historyList}">
                    <div class="h-date" th:text="${hist.dateStr}">20XX.XX.XX</div>
                    <div class="h-info" th:text="${hist.className}">ì›ë¦¬ë¥¼ ê¿°ëš«ì–´ ë‹µì„ ì°¾ëŠ”, í†µì°° ìˆ˜í•™</div>

                    <div class="h-status status-complete" th:if="${hist.status == 'COMPLETED'}">ìˆ˜ê°•ì™„ë£Œ</div>
                    <div class="h-status status-cancel" th:if="${hist.status == 'CANCELED'}">ìˆ˜ê°•ì·¨ì†Œ</div>

                    <button class="btn-review" th:if="${hist.reviewWritten}">ë¦¬ë·° ìˆ˜ì •</button>
                    <button class="btn-review" th:if="${!hist.reviewWritten and hist.status == 'COMPLETED'}">ë¦¬ë·° ì‘ì„±</button>
                </div>
            </div>
        </section>

        <section>
            <div class="section-header">ì°œí•œ ëª©ë¡</div>
            <div class="favorites-grid">
                <div class="fav-card" th:each="fav : ${favorites}">
                    <i class="fas fa-heart heart-icon"></i>
                    <div style="font-size:30px; margin-bottom:10px;">ğŸ“š</div> <div class="fav-subject" th:text="${fav.subject}">ì„ì´ íŠ¸ì´ëŠ” ì˜ì–´</div>
                    <div class="fav-teacher" th:text="${fav.teacherName}">XXX ì„ ìƒë‹˜</div>
                    <div class="fav-rating">
                        <i class="fas fa-star"></i> <span th:text="${fav.rating}">4.8</span>
                        <span>(ë¦¬ë·° 12ê°œ)</span>
                    </div>
                    <div class="fav-price" th:text="${#numbers.formatInteger(fav.pricePerHour, 0, 'COMMA') + 'ì› / ì‹œê°„'}">30,000ì› / ì‹œê°„</div>
                    <button class="btn-enroll">ìˆ˜ê°• ì‹ ì²­</button>
                </div>
            </div>
        </section>

        <section>
            <div class="section-header">
                ìµœê·¼ ê²°ì œ ë‚´ì—­ <span style="font-size:12px; color:#666; font-weight:normal; margin-left:10px;">í•„í„°: ì „ì²´ | 3ê°œì›”</span>
            </div>
            <div class="payment-list">
                <div class="pay-item" th:each="pay : ${payments}">
                    <div class="pay-date" th:text="${pay.dateStr}">20XX. XXX. XX (ì›”)</div>
                    <div class="pay-title" th:text="${pay.fullTitle}">ì›ë¦¬ë¥¼ ê¿°ëš«ì–´... - XXX ì„ ìƒë‹˜</div>
                    <div class="pay-meta" th:text="${pay.timeRange}">14:00 ~ 16:00 (2ì‹œê°„)</div>
                    <div class="pay-amount" th:text="${#numbers.formatInteger(pay.amount, 0, 'COMMA') + 'ì›'}">60,000ì›</div>
                    <div class="pay-status">
                        <span th:text="${pay.status}">ê²°ì œì™„ë£Œ</span> | <span>ì˜ìˆ˜ì¦</span>
                    </div>
                </div>
            </div>
        </section>

    </main>
</div>

</body>
</html>